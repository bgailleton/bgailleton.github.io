{{- $rawTone := lower (default "positive" (.Get "tone")) -}}
{{- $negativeTones := slice "negative" "weakness" "weaknesses" "con" "cons" "downside" "downsides" "risk" "risks" -}}
{{- $tone := cond (in $negativeTones $rawTone) "negative" "positive" -}}
{{- $defaultTitle := cond (eq $tone "negative") "Weaknesses" "Strengths" -}}
{{- $defaultEyebrow := cond (eq $tone "negative") "Pressure Points" "Bright Spots" -}}
{{- $defaultIcon := cond (eq $tone "negative") "!" "+" -}}
{{- $title := default $defaultTitle (.Get "title") -}}
{{- $eyebrow := default $defaultEyebrow (.Get "eyebrow") -}}
{{- $icon := default $defaultIcon (.Get "icon") -}}

{{- with .Inner -}}
  {{- $content := $.Page.RenderString (dict "display" "block") . -}}
  {{- partial "polarity-list.html" (dict
    "tone" $tone
    "title" $title
    "eyebrow" $eyebrow
    "icon" $icon
    "content" $content
  ) -}}
{{- end -}}
